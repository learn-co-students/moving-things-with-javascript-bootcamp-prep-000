<!DOCTYPE html>
<html>
  <head>
    <title>Rock Dodger! (Beta)</title>
    <link rel="stylesheet" type="text/css" href="index.css">
  </head>

  <body>
    <div id="game">
      <div id="dodger" style="bottom: 0px; left: 180px; right: 180px;"></div>
    </div>
    <script>
      // your code here
      var dodger = document.getElementById('dodger')

      // TODO: refactor into general moveDodger function; add top and bottom movement
      function moveDodgerLeft() {
        var rightNumbers = dodger.style.right.replace('px', '')
        var right = parseInt(rightNumbers, 10)
        dodger.style.left = `${180 + (180 - right)}px`
        dodger.style.right = ""

        var leftNumbers = dodger.style.left.replace('px', '')
        var left = parseInt(leftNumbers, 10)

        if (left > 0) {
          dodger.style.left = `${left - 1}px`
        }
      }

      function moveDodgerRight() {
        var leftNumbers = dodger.style.left.replace('px', '')
        var left = parseInt(leftNumbers, 10)
        dodger.style.right = `${180 + (180 - left)}px`
        dodger.style.left = ""

        var rightNumbers = dodger.style.right.replace('px', '')
        var right = parseInt(rightNumbers, 10)

        if (right > 0) {
          dodger.style.right = `${right - 1}px`
        }
      }

      document.addEventListener('keydown', function(e) {
        if (e.which === 37) {
          moveDodgerLeft()
        }
        if (e.which === 39) {
          moveDodgerRight()
        }
      })
    </script>
  </body>
</html>
